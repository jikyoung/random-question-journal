{% extends "base.html" %}
{% block content %}

<!-- âœ… ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ -->
<div class="flex justify-end mb-4">
  {% if nickname %}
    <span class="mr-2 text-gray-700 font-semibold">ğŸ‘‹ {{ nickname }}ë‹˜</span>
    <a href="/auth/logout" class="text-red-600 underline">ë¡œê·¸ì•„ì›ƒ</a>
  {% else %}
    <a href="/auth/login" class="text-blue-600 underline">ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸</a>
  {% endif %}
</div>
{% if message %}
  <div class="bg-white rounded-xl shadow p-6 text-center">
    <h2 class="text-xl font-semibold mb-2 text-green-600">{{ message }}</h2>
    <a href="/pages/answers" class="text-blue-600 underline">â†’ ë‚´ê°€ ì“´ ë‹µë³€ ë³´ê¸°</a>
  </div>
{% elif question %}
  <h1 class="text-2xl font-bold mb-4">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸</h1>
  <div class="bg-white rounded-xl shadow p-4 mb-6">
    <p class="text-lg font-medium mb-2">{{ question.question_text }}</p>


    {% if already_answered %}
      <div class="text-green-700 font-medium mb-4">âœ… ì´ë¯¸ ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ì— ë‹µë³€í•˜ì…¨ìŠµë‹ˆë‹¤!</div>
      <a href="/pages/answers" class="text-blue-600 underline">â†’ ë‚´ê°€ ì“´ ë‹µë³€ ë³´ê¸°</a>
    {% else %}
      <form method="post" action="/submit" class="space-y-4">
        <input type="hidden" name="question_id" value="{{ question.id }}">
        <textarea name="answer_text" rows="4" class="w-full border rounded p-2" placeholder="ë‹¹ì‹ ì˜ ë‹µë³€ì€?"></textarea>
        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
          ë‹µë³€ ì €ì¥í•˜ê¸°
        </button>
      </form>
    {% endif %}
  </div>
{% else %}
  <div class="bg-white rounded-xl shadow p-6 text-center">
    <h2 class="text-xl font-semibold mb-2 text-red-600">ğŸ“Œ ëª¨ë“  ì§ˆë¬¸ì„ ì™„ë£Œí–ˆì–´ìš”!</h2>
    <p class="mb-4">ìƒˆë¡œìš´ ì§ˆë¬¸ì´ ì—†ì–´ìš”. ë‚´ì¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš” ğŸ™‚</p>
    <a href="/pages/answers" class="text-blue-600 underline">â†’ ë‚´ê°€ ì“´ ë‹µë³€ ë³´ê¸°</a>
  </div>
{% endif %}

{% endblock %}